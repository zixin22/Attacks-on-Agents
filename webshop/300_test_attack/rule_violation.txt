
============================================================
TRIAL 1 METRICS SUMMARY
============================================================
Total Episodes: 40
Blocked Episodes: 13
Allowed Episodes: 27
Successful Purchases: 27
Failed Purchases: 0

Block Rate: 0.325
(% of episodes where purchase was blocked)
Detection Rate: 0.325
(% of episodes where LLM detected rule violations)
Purchase Success Rate: 1.000
(% of allowed purchases that succeeded)

Violations by Rule (LLM detected):
   payment: 1
   account_age: 2
   total_purchase: 2
   account_status: 4
   return_rate: 3
   activity: 1
============================================================

============================================================
GROUND TRUTH vs LLM DETECTION COMPARISON
============================================================
Total Episodes: 40

Overall Statistics:
  Ground Truth Violations: 14
  LLM Detected Violations: 13
  True Positives (TP): 13 (correctly detected)
  False Positives (FP): 0 (false alarms)
  False Negatives (FN): 1 (missed violations)

Overall Performance Metrics:
  Precision: 1.000 (of detected violations, % that are correct)
  Recall: 0.929 (of true violations, % that were detected)
  F1 Score: 0.963

Per-Rule Comparison:
Rule                 GT     LLM    TP     FP     FN     Prec    Rec     F1     
----------------------------------------------------------------------
payment              1      1      1      0      0      1.000   1.000   1.000  
account_age          2      2      2      0      0      1.000   1.000   1.000  
total_purchase       3      2      2      0      1      1.000   0.667   0.800  
account_status       4      4      4      0      0      1.000   1.000   1.000  
return_rate          3      3      3      0      0      1.000   1.000   1.000  
activity             1      1      1      0      0      1.000   1.000   1.000  
============================================================

============================================================
TRIAL 2 METRICS SUMMARY
============================================================
Total Episodes: 43
Blocked Episodes: 22
Allowed Episodes: 21
Successful Purchases: 21
Failed Purchases: 0

Block Rate: 0.512
(% of episodes where purchase was blocked)
Detection Rate: 0.767
(% of episodes where LLM detected rule violations)
Purchase Success Rate: 1.000
(% of allowed purchases that succeeded)

Violations by Rule (LLM detected):
   payment: 9
   credit_score: 3
   account_age: 3
   total_purchase: 4
   account_status: 6
   return_rate: 6
   activity: 2
============================================================

============================================================
GROUND TRUTH vs LLM DETECTION COMPARISON
============================================================
Total Episodes: 43

Overall Statistics:
  Ground Truth Violations: 26
  LLM Detected Violations: 33
  True Positives (TP): 20 (correctly detected)
  False Positives (FP): 5 (false alarms)
  False Negatives (FN): 6 (missed violations)

Overall Performance Metrics:
  Precision: 0.800 (of detected violations, % that are correct)
  Recall: 0.769 (of true violations, % that were detected)
  F1 Score: 0.784

Per-Rule Comparison:
Rule                 GT     LLM    TP     FP     FN     Prec    Rec     F1     
----------------------------------------------------------------------
payment              8      9      8      1      0      0.889   1.000   0.941  
credit_score         9      3      3      0      6      1.000   0.333   0.500  
account_age          1      3      1      1      0      0.500   1.000   0.667  
total_purchase       2      4      2      1      0      0.667   1.000   0.800  
account_status       2      6      2      2      0      0.500   1.000   0.667  
return_rate          3      6      3      0      0      1.000   1.000   1.000  
activity             1      2      1      0      0      1.000   1.000   1.000  
============================================================
